<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>This is a library for controlling a pan and tilt robotic head: visual_analysis Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">This is a library for controlling a pan and tilt robotic head
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">visual_analysis Class Reference<div class="ingroups"><a class="el" href="group__robohead.html">robohead_drivers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The class used to get images form the camera and track objects in these images. This class contains all the necessary methods to get images from the camera and search colors or faces inside them. Most of this methods take as argument the variables where the position from image will be stored.  
 <a href="classvisual__analysis.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="visual__analysis_8h_source.html">visual_analysis.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5c08354f3936d143d20d4c85aec2446f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c08354f3936d143d20d4c85aec2446f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisual__analysis.html#a5c08354f3936d143d20d4c85aec2446f">visual_analysis</a> ()</td></tr>
<tr class="memdesc:a5c08354f3936d143d20d4c85aec2446f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of the <a class="el" href="classvisual__analysis.html" title="The class used to get images form the camera and track objects in these images. This class contains a...">visual_analysis</a> class It creates and initializes a VideoCapture object (the camera), checks if that object is able to get images and sets the HSV values to orange. <br/></td></tr>
<tr class="separator:a5c08354f3936d143d20d4c85aec2446f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d359f627ac47f0af0ddb60a207352a9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d359f627ac47f0af0ddb60a207352a9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisual__analysis.html#a6d359f627ac47f0af0ddb60a207352a9">~visual_analysis</a> ()</td></tr>
<tr class="memdesc:a6d359f627ac47f0af0ddb60a207352a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor of the class. <br/></td></tr>
<tr class="separator:a6d359f627ac47f0af0ddb60a207352a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c688976aecfee05b41910701d60233"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisual__analysis.html#a40c688976aecfee05b41910701d60233">get_img</a> (Mat &amp;original_img)</td></tr>
<tr class="memdesc:a40c688976aecfee05b41910701d60233"><td class="mdescLeft">&#160;</td><td class="mdescRight">It fills a matrix with the data obtined form a captured frame.  <a href="#a40c688976aecfee05b41910701d60233">More...</a><br/></td></tr>
<tr class="separator:a40c688976aecfee05b41910701d60233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff98474b39dadbed142f458933b4c5d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisual__analysis.html#aeff98474b39dadbed142f458933b4c5d">get_color</a> (double &amp;x, double &amp;y, Mat &amp;original_img, int min_H_, int max_H_, int min_S_, int max_S_, int min_V_, int max_V_)</td></tr>
<tr class="memdesc:aeff98474b39dadbed142f458933b4c5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">It searches for a specific color in the image Given the image and the range of colors to search in HSV system, it gets the coordinates in the image where the color is and save it in x and y variables.  <a href="#aeff98474b39dadbed142f458933b4c5d">More...</a><br/></td></tr>
<tr class="separator:aeff98474b39dadbed142f458933b4c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a258dbb157454055633cfff9b24d9c3e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisual__analysis.html#a258dbb157454055633cfff9b24d9c3e2">get_ball</a> (double &amp;x, double &amp;y, Mat &amp;original_img)</td></tr>
<tr class="memdesc:a258dbb157454055633cfff9b24d9c3e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">It searches for a orange ball It searches for an orange ball and return its position in the image. It can be useful to test various features.  <a href="#a258dbb157454055633cfff9b24d9c3e2">More...</a><br/></td></tr>
<tr class="separator:a258dbb157454055633cfff9b24d9c3e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b7668c62e9584226601c8dae782da1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisual__analysis.html#a7b7668c62e9584226601c8dae782da1e">get_face</a> (double &amp;x, double &amp;y, Mat &amp;original_img)</td></tr>
<tr class="memdesc:a7b7668c62e9584226601c8dae782da1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">It searches for a face in an image It will return the position of the biggest face that it's able to find. Depending on the camera, the face recognition can vary, so it's not very reilable. NOTE: It has some trouble with people wearing glasses...  <a href="#a7b7668c62e9584226601c8dae782da1e">More...</a><br/></td></tr>
<tr class="separator:a7b7668c62e9584226601c8dae782da1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9fd494a4d5e6aa7950c06380cb4df0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisual__analysis.html#afa9fd494a4d5e6aa7950c06380cb4df0">get_circle</a> (double &amp;x, double &amp;y, Mat &amp;original_img)</td></tr>
<tr class="memdesc:afa9fd494a4d5e6aa7950c06380cb4df0"><td class="mdescLeft">&#160;</td><td class="mdescRight">It searches for a face in an image.  <a href="#afa9fd494a4d5e6aa7950c06380cb4df0">More...</a><br/></td></tr>
<tr class="separator:afa9fd494a4d5e6aa7950c06380cb4df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="visual__analysis_8h_source.html#l00023">23</a> of file <a class="el" href="visual__analysis_8h_source.html">visual_analysis.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a40c688976aecfee05b41910701d60233"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool visual_analysis::get_img </td>
          <td>(</td>
          <td class="paramtype">Mat &amp;&#160;</td>
          <td class="paramname"><em>original_img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opiginal_img</td><td>A matrix that will contain the captured frame </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool Returns true if success </dd></dl>

<p>Definition at line <a class="el" href="visual__analysis_8cpp_source.html#l00039">39</a> of file <a class="el" href="visual__analysis_8cpp_source.html">visual_analysis.cpp</a>.</p>

<p>Referenced by <a class="el" href="robohead_8cpp_source.html#l00050">CRobohead::follow_ball()</a>, <a class="el" href="robohead_8cpp_source.html#l00074">CRobohead::follow_color()</a>, and <a class="el" href="robohead_8cpp_source.html#l00026">CRobohead::follow_face()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classvisual__analysis_a40c688976aecfee05b41910701d60233_icgraph.png" border="0" usemap="#classvisual__analysis_a40c688976aecfee05b41910701d60233_icgraph" alt=""/></div>
<map name="classvisual__analysis_a40c688976aecfee05b41910701d60233_icgraph" id="classvisual__analysis_a40c688976aecfee05b41910701d60233_icgraph">
<area shape="rect" id="node2" href="classCRobohead.html#a88a2b27a78b0559a9a6840b55706803f" title="The head will follow an orange ball, used in testing. " alt="" coords="223,5,383,32"/><area shape="rect" id="node3" href="classCRobohead.html#ae3bcf299e36192a231ba5ca5a071fdaf" title="The head will follow a specific colour It follows a color given range of it in HSV system..." alt="" coords="219,56,387,83"/><area shape="rect" id="node4" href="classCRobohead.html#ab83ecd7a48ed8d2da10b650e3775d989" title="The head will follow the biggest face that visual_analysis is able to find. " alt="" coords="220,107,385,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeff98474b39dadbed142f458933b4c5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int visual_analysis::get_color </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat &amp;&#160;</td>
          <td class="paramname"><em>original_img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_H_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_H_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_S_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_S_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_V_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_V_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The double where the x coordinate form image will be saved </td></tr>
    <tr><td class="paramname">y</td><td>The double where the y coordinate from image will be saved </td></tr>
    <tr><td class="paramname">opiginal_img</td><td>A matrix that contain the frame to analize </td></tr>
    <tr><td class="paramname">min_H_</td><td>Minimum hue to search </td></tr>
    <tr><td class="paramname">max_H_</td><td>Maximum hue to search </td></tr>
    <tr><td class="paramname">min_S_</td><td>Minimum saturatuion to search </td></tr>
    <tr><td class="paramname">max_S_</td><td>Maximum saturatuion to search </td></tr>
    <tr><td class="paramname">min_V_</td><td>Minimun color valur to search </td></tr>
    <tr><td class="paramname">max_V_</td><td>Maximum color value to search </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>It returns an integrer that can be used to set a face expression later. </dd></dl>

<p>Definition at line <a class="el" href="visual__analysis_8cpp_source.html#l00047">47</a> of file <a class="el" href="visual__analysis_8cpp_source.html">visual_analysis.cpp</a>.</p>

<p>Referenced by <a class="el" href="robohead_8cpp_source.html#l00074">CRobohead::follow_color()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classvisual__analysis_aeff98474b39dadbed142f458933b4c5d_icgraph.png" border="0" usemap="#classvisual__analysis_aeff98474b39dadbed142f458933b4c5d_icgraph" alt=""/></div>
<map name="classvisual__analysis_aeff98474b39dadbed142f458933b4c5d_icgraph" id="classvisual__analysis_aeff98474b39dadbed142f458933b4c5d_icgraph">
<area shape="rect" id="node2" href="classCRobohead.html#ae3bcf299e36192a231ba5ca5a071fdaf" title="The head will follow a specific colour It follows a color given range of it in HSV system..." alt="" coords="192,12,360,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a258dbb157454055633cfff9b24d9c3e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int visual_analysis::get_ball </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat &amp;&#160;</td>
          <td class="paramname"><em>original_img</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The double where the x coordinate form image will be saved </td></tr>
    <tr><td class="paramname">y</td><td>The double where the y coordinate from image will be saved </td></tr>
    <tr><td class="paramname">opiginal_img</td><td>A matrix that contain the frame to analize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>It returns an integrer that can be used to set a face expression later. </dd></dl>

<p>Definition at line <a class="el" href="visual__analysis_8cpp_source.html#l00099">99</a> of file <a class="el" href="visual__analysis_8cpp_source.html">visual_analysis.cpp</a>.</p>

<p>Referenced by <a class="el" href="robohead_8cpp_source.html#l00050">CRobohead::follow_ball()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classvisual__analysis_a258dbb157454055633cfff9b24d9c3e2_icgraph.png" border="0" usemap="#classvisual__analysis_a258dbb157454055633cfff9b24d9c3e2_icgraph" alt=""/></div>
<map name="classvisual__analysis_a258dbb157454055633cfff9b24d9c3e2_icgraph" id="classvisual__analysis_a258dbb157454055633cfff9b24d9c3e2_icgraph">
<area shape="rect" id="node2" href="classCRobohead.html#a88a2b27a78b0559a9a6840b55706803f" title="The head will follow an orange ball, used in testing. " alt="" coords="219,5,379,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b7668c62e9584226601c8dae782da1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int visual_analysis::get_face </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat &amp;&#160;</td>
          <td class="paramname"><em>original_img</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The double where the x coordinate form image will be saved </td></tr>
    <tr><td class="paramname">y</td><td>The double where the y coordinate from image will be saved </td></tr>
    <tr><td class="paramname">opiginal_img</td><td>A matrix that contain the frame to analize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>It returns an integrer that can be used to set a face expression later. </dd></dl>

<p>Definition at line <a class="el" href="visual__analysis_8cpp_source.html#l00151">151</a> of file <a class="el" href="visual__analysis_8cpp_source.html">visual_analysis.cpp</a>.</p>

<p>Referenced by <a class="el" href="robohead_8cpp_source.html#l00026">CRobohead::follow_face()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classvisual__analysis_a7b7668c62e9584226601c8dae782da1e_icgraph.png" border="0" usemap="#classvisual__analysis_a7b7668c62e9584226601c8dae782da1e_icgraph" alt=""/></div>
<map name="classvisual__analysis_a7b7668c62e9584226601c8dae782da1e_icgraph" id="classvisual__analysis_a7b7668c62e9584226601c8dae782da1e_icgraph">
<area shape="rect" id="node2" href="classCRobohead.html#ab83ecd7a48ed8d2da10b650e3775d989" title="The head will follow the biggest face that visual_analysis is able to find. " alt="" coords="224,5,389,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afa9fd494a4d5e6aa7950c06380cb4df0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void visual_analysis::get_circle </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat &amp;&#160;</td>
          <td class="paramname"><em>original_img</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The double where the x coordinate form image will be saved </td></tr>
    <tr><td class="paramname">y</td><td>The double where the y coordinate from image will be saved </td></tr>
    <tr><td class="paramname">opiginal_img</td><td>A matrix that contain the frame to analize </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="visual__analysis_8cpp_source.html#l00220">220</a> of file <a class="el" href="visual__analysis_8cpp_source.html">visual_analysis.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/agarcia/code/robotic_head/trunk/src/<a class="el" href="visual__analysis_8h_source.html">visual_analysis.h</a></li>
<li>/home/agarcia/code/robotic_head/trunk/src/<a class="el" href="visual__analysis_8cpp_source.html">visual_analysis.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 29 2016 16:35:22 for This is a library for controlling a pan and tilt robotic head by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
